{% extends 'layout.html' %}
{% block content %}<!--y colocamos dentro el contenido-->
{% load static %}
    <h1>Posts</h1>
    {% for post in posts %}
        <div class="p-3">
            <div class="card card-boy bg-black">
                <div class="row">
                    <div class="col-3">
                        <img src="{{post.image.url}}" alt="{{post.title}}" class="img-fluid"><!--la img irá en las col de3-->
                    </div>
                    <div class="col-9"><!--y aquí el resto del coontenido-->
                        <h2>{{post.title}}</h2>
                        <!--<h3>{{post.date}}</h3>-->
                        <p>{{post.description|safe|truncatechars:100}}</p>
                        <!--safe es para q interprete el html escrito por un usuario en el mismo post, 
                            truncatechars para q acorte el texto en la vista preliminar-->
                        <!--<p>{{post.description|striptags|truncatechars:100}}</p> #con st se quita el html insertado-->
                        <p>{{post.date|date:'M d Y'|upper}}</p><!--https://docs.djangoproject.com/en/4.2/ref/templates/builtins/-->
                
                        <br/> <!--la publicación ↑ tiene una propied id y se la pasamos como parám ↓-->     
                        <a href="{% url 'blog:post_detail' post.id %}" class="btn btn-primary">{{post.title}}</a>
                        <!--<hr/>-->
                    </div>
                </div> 
            </div>
        </div>
    {% endfor %}
{% endblock %}
